# 42ë²ˆì§¸ ë§Œë‚¨

### WIL

- enum typeì„ string unionìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²ƒ ë„ì „
  ```ts
  enum Fruit {
    apple = 'apple'
  }
  const fruit:Fruit = 'apple' // error
  const fruit2:Fruit = Fruit.apple // pass

  type FruitType = `${Fruit}`; // enumì˜ ê°’ë“¤ì— ëŒ€í•œ íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
  ```
  - microsoft/typescript ì´ìŠˆ `Allow "T extends enum" generic constraint`  
    í•˜ì§€ë§Œ allowëœ ìƒíƒœëŠ” ì•„ë‹ˆë‹¤. enum extends í•˜ëŠ” ê²ƒ ë¶ˆê°€ëŠ¥
  - ê·¸ëŸ¼ êµ¬í˜„í•´ë³´ì.
    ```ts
    type isEnum<T> = Equal<keyof T, keyof string> extends true? true : false;
    ```
  - í…ŒìŠ¤íŠ¸í•´ë´¤ì„ ë•Œ ì™„ë²½í•˜ì§€ëŠ” ì•Šë‹¤.
- ìµœê³ ì˜ íŒì€ multi-pass rendering(ex. use(Layout)Effectì—ì„œ setState)ì„ í”¼í•˜ëŠ” ê²ƒ
  - ì˜ˆë¥¼ ë“¤ì–´ useEffect ë‚´ì—ì„œ fetchData í•œ ë‹¤ìŒ -> setState í•˜ì§€ ë§ê³  / ì»´í¬ë„ŒíŠ¸ ìƒë‹¨ì—ì„œ fetchDataí•˜ê³  ê·¸ ë°ì´í„°ë¥¼ ì´ˆê¹ƒê°’ìœ¼ë¡œ í• ë‹¹í•´ì£¼ëŠ” ê²ƒì´ ë” ë‚«ë‹¤.
  - multi-passë€?
    - `pass` ë‹¨ìœ„ : ì»´í¬ë„ŒíŠ¸ê°€ í˜¸ì¶œì´ ë  ë•Œ ì­‰ ì•„ë˜ë¡œ JSXê°€ ë°˜í™˜ë˜ëŠ” ê·¸ ê³¼ì • í•˜ë‚˜
    - useEffectì—ì„œ setStateí•˜ë©´ ìƒíƒœê°€ í•œ ë²ˆ ë” ë¦¬ë Œë”ë§ëœë‹¤. -> ê·¸ëŸ¼ multi-pass
  - ì»´í¬ë„ŒíŠ¸ê°€ multi-pass ë˜ë©´ ë°ì´í„° ë³€í™”ë¥¼ ì¶”ì í•˜ê¸°ê°€ í˜ë“¤ì–´ì§„ë‹¤.
  - ì„±ëŠ¥ìƒ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì§€ë§Œ, ì„±ëŠ¥ìƒ ë¬¸ì œê°€ ë˜ì§€ ì•Šë”ë¼ë„ ê°€ê¸‰ì ì´ë©´ multi-pass renderingì„ í”¼í•˜ë©´ ì¢€ ë” ì½ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
  - https://twitter.com/sebmarkbage/status/1564366555508506627?s=20&t=kCb1xMz8xVeUXWoQ_pU6Iw
- Context API
  - Providerë¡œ ì£¼ì…í•˜ëŠ” ìƒíƒœê°€ updateë˜ë©´ **ê·¸ ìƒíƒœë¥¼ êµ¬ë…í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë§Œ re-render ëœë‹¤** vs í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” ëª¨ë‘ re-render ëœë‹¤
  - -> ê·¸ ìƒíƒœë¥¼ êµ¬ë…í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë§Œ re-render ë˜ëŠ” ê²ƒì´ ë§ë‹¤.
  - ì˜ê²¬1: ì›ë˜ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ re-renderë˜ì—ˆëŠ”ë°, ìˆ˜ì •ëœ ê²ƒ ê°™ë‹¤. RFCì—ì„œ ë³¸ ê²ƒ ê°™ë‹¤.
  - ì˜ê²¬2: react ì¸¡ì—ì„œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì‚¬ìš©í•˜ë ¤ í•œ API(useExternalStore)ë¥¼ exportí•´ì¤¬ëŠ”ë°, ìê¸°ë„¤ë“¤ì´ ë§Œë“  contextì— ì´ë¥¼ ë„£ì§€ ì•Šì„ ì´ìœ ê°€ ì—†ë‹¤.
  - ê·¸ëŸ¼ recoilì„ ì“°ëŠ” ì´ìœ ê°€ ë¬´ì—‡ì¼ê¹Œ
    - https://github.com/dai-shi/use-context-selector
    - ìƒíƒœê°€ ë§ì•„ì§€ë©´ contextë¥¼ ì—¬ëŸ¬ ê°œ ì¨ì•¼ í•˜ê³ , ê·¸ëŸ¼ Providerê°€ ë§¤ìš° ë³µì¡í•´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.
- ê·¸ëŸ¼ ì •í™•íˆ ì»´í¬ë„ŒíŠ¸ê°€ re-renderë˜ëŠ” ì¡°ê±´ì´ ë­ì•¼?
  - ì´ ë¬¸ì œë¡œ ê³ í†µë°›ê³  ìˆë‹¤...
  - í˜ì´ì§€ê°€ render phase / commit phaseë¡œ ë‚˜ë‰œë‹¤.
    - render phase : re-render -> VDOM Elementë¥¼ ë§Œë“œëŠ” ìˆœê°„
    - commit phase : reconciliation -> ì‹¤ì œ DOM
  - re-renderingì´ ì¼ì–´ë‚¬ëŠ”ë° ì‹¤ì œ DOMì— ë°˜ì˜ ì•ˆ ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. 
  - https://blog.bitsrc.io/how-react-renders-a-component-on-screen-da97c56caf71
  - **1. ì£¼ì… ë°›ëŠ” propì´ ë³€ê²½ë˜ëŠ”ê°€ / 2. êµ¬ë…í•˜ëŠ” stateê°€ ë³€ê²½ë˜ëŠ”ê°€ / 3. forceRender**
- React.memoë¥¼ ì™œ ì“°ëŠ”ê±¸ê¹Œ?
  - renderingí•œ ê²°ê³¼ë¬¼ì„ memoization
  - stateì™€ propsì— ë”°ë¼ì„œ keyì™€ valueì˜ í˜•íƒœë¡œ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ë†”ì„œ, ë¦¬ë Œë”ë§í•˜ë©´ ê·¸ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” keyê°’ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì“°ëŠ” ê²ƒ ê°™ë‹¤.
  - https://ui.toast.com/weekly-pick/ko_20190731
  - ê·¸ëŸ¼ ë³´í†µ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ `array.map`í•˜ë©´ì„œ ìµœì í™”í•œë‹¤ê³  memoë¡œ ë§ì´ ê°ì‹¸ëŠ”ë°, ê·¸ ì•„ì´í…œì— key propì„ ì“°ëŠ” ê²ƒì„ í†µí•œ ìµœì í™”ì™€ ì–´ë–¤ ë¶€ë¶„ì´ ë‹¤ë¥¸ê°€
    - key propì€ ìµœì í™”í•˜ëŠ” ê´€ì ì´ ë‹¤ë¥´ë‹¤. 
      - diffing algorithmê³¼ í•¨ê»˜ ë‚˜ì˜¤ëŠ” ì´ì•¼ê¸°
      - keyë¥¼ ì£¼ë©´ ë°°ì—´ ì¬ì •ë ¬ ì‹œê°„ë³µì¡ë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
      - ì¦‰ memoëŠ” ë Œë”ë§ëœ ê²°ê³¼ê°’ì„ ë©”ëª¨í•˜ëŠ” ê±°ê³ , keyëŠ” diffingê³¼ ì—°ê´€ìˆëŠ” ê²ƒ
    - ê·¸ëŸ¼ ì „í˜€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì¸ë° key propì´ ê°™ìœ¼ë©´?
      - key propsëŠ” siblingë¼ë¦¬ë§Œ ë‹¤ë¥´ë©´ ëœë‹¤.
      - siblingë¼ë¦¬ ê°™ìœ¼ë©´ ë Œë”ë§ ì´ìƒí•˜ê²Œ ë¨
  - memo ê·¸ëŸ¼ ì–¸ì œ ì“°ëƒ?
    - ì˜ê²¬N: ì˜ ì•ˆ ì“´ë‹¤. useMemo useCallbackì´ë©´ ëª°ë¼ë„
    - ì˜ê²¬1: useCallbackì€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ ì „ë‹¬í•  ë•Œ ë§ì´ ì“´ë‹¤.
    - ì˜ê²¬2: ë©”ëª¨ì´ì œì´ì…˜ ì˜ ì•ˆ ì“°ê³  ê·¸ëƒ¥ ì»´í¬ë„ŒíŠ¸ë¥¼ ìª¼ê° ë‹¤.
    - https://dmitripavlutin.com/dont-overuse-react-usecallback/
- css-in-jsë¥¼ ì™œ ì“¸ê¹Œ?
  - ì˜ê²¬1: ê³¼ê±°ì—ëŠ” HTML, CSS, JS ë‹¤ ë¶„ë¦¬ë˜ì–´ìˆì—ˆëŠ”ë°, JSXê°€ ë“¤ì–´ì˜¤ë©´ì„œ HTML+JS í•©ì³ì¡Œë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ ê°ìë¥¼ ìˆ˜ì •í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë³´ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  css-in-jsê°€ ë‚˜ì˜¤ë©´ì„œ HTML+CSS+JS í•©ì³ì§€ê³  **íš¡ë‹¨ê´€ì‹¬ì‚¬**ê°€ ë¬¶ì—¬ì§„ë‹¤. ê·¸ë˜ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.
  - ì˜ê²¬2: 2014ë…„ì— 7ê°€ì§€ ë¬¸ì œê°€ ìˆì—ˆë‹¤. https://speakerdeck.com/vjeux/react-css-in-js
    - í´ë˜ìŠ¤ ì´ë¦„ì˜ ìµœì†Œí™” ë¬¸ì œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ ë³€ìˆ˜ ì „ë‹¬ì´ í¸í•˜ê³ , ê´€ì‹¬ì‚¬ ë¶„ë¦¬ ê°€ëŠ¥í•˜ê³ ...
  - ì˜ê²¬3: css-in-jsë„ ëŸ°íƒ€ì„ ì´ìŠˆê°€ ìˆì–´ì„œ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë°˜-ì§í•˜ë‚˜ ì‹¶ì—ˆì§€ë§Œ ë°˜ì§ë§Œ í–ˆë‹¤ê³  í•œë‹¤
    - Zero Runtime CSS in JSì´ë‚˜ Runtimeê³¼ Zero Runtimeì˜ ì¤‘ê°„ì²´ë„ ë‚˜ì™”ì—ˆë˜ ê±° ê°™ì€ë°, ì§€ê¸ˆê¹Œì§€ ë§ì´ ì“°ëŠ” ê±´ Runtime CSS in JSâ€¦
- Next.js
  - ssr csr ssg -> ssgë¥¼ ì“°ëŠ”ê²Œ ì œì¼ ì¢‹ì§€ ì•Šë‚˜.
  - isr -> ì–´ë–¤ íŠ¹ì • ì´ë²¤íŠ¸ë¡œ í•œ ë²ˆ ë¹Œë“œëœ ssgë¥¼ í•œ ë²ˆ ë” ë¹Œë“œì‹œì¼œ ì£¼ëŠ” ê²ƒ
  - https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration
  - ssrì˜ ì¥ì ê³¼ ssgì˜ ì¥ì ì„ ê°™ì´ ì“¸ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¸°ëŠ¥ì´ë‹¤.
- Next.js ëª¨~ë“  exmaple ì½”ë“œ
  - https://github.com/vercel/next.js/tree/canary/examples

### ì¡ë‹´

- ì¸ê·œë‹˜ ì—ì–´ì»¨ ì§‘ë“¤ì´ ë‹¤ìŒë‚  ìƒˆë¡œ ì„¤ì¹˜í•˜ì‹¬ (100ë§Œì›ì§œë¦¬)
- ì¢…í˜¸ë‹˜ í† ìŠ¤ ëª…í•¨ ë‚˜ì˜¤ì‹¬ -> ë‹¤ìŒì— ë¬´ì ê¶Œ ë“¤ê³  ì˜¤ê¸° ğŸ‰ğŸ‰ğŸ‰
- https://github.com/velopert/sangte ì»¨íŠ¸ë¦¬ë¸‰ í•´ìš” ~!

---

- ğŸ“† 2022.09.26 20:20 ~ 21:50
- ğŸ‘¥ [@Seogeurim](https://github.com/Seogeurim) [@pumpkiinbell](https://github.com/pumpkiinbell) 
[@jiyong1](https://github.com/jiyong1) [@KangyeolLee](https://github.com/KangyeolLee) [@gomjellie](https://github.com/gomjellie) [@hseoy](https://github.com/hseoy)
